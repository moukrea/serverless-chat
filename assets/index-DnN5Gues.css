:root{--light-bg-primary: #ffffff;--light-bg-secondary: #f9fafb;--light-bg-tertiary: #f3f4f6;--light-bg-sidebar: #fafbfc;--light-bg-chat: #ffffff;--light-bg-message-sent: #5865f2;--light-bg-message-received: #f3f4f6;--light-bg-message-system: #fef9e7;--light-bg-hover: #f0f1f3;--light-bg-active: #e5e7eb;--light-bg-modal: rgba(0, 0, 0, .5);--light-text-primary: #111827;--light-text-secondary: #6b7280;--light-text-muted: #9ca3af;--light-text-link: #0ea5e9;--light-text-on-accent: #ffffff;--light-border-color: #e5e7eb;--light-border-hover: #d1d5db;--light-accent-primary: #5865f2;--light-accent-success: #10b981;--light-accent-warning: #f59e0b;--light-accent-danger: #ef4444;--light-shadow: rgba(99, 102, 241, .04);--light-shadow-hover: rgba(99, 102, 241, .08);--dark-bg-primary: #313338;--dark-bg-secondary: #2b2d31;--dark-bg-tertiary: #1e1f22;--dark-bg-sidebar: #2b2d31;--dark-bg-chat: #313338;--dark-bg-message-sent: #5865f2;--dark-bg-message-received: #2b2d31;--dark-bg-message-system: #3c3721;--dark-bg-hover: #404249;--dark-bg-active: #4e505a;--dark-bg-modal: rgba(0, 0, 0, .75);--dark-text-primary: #f2f3f5;--dark-text-secondary: #b5bac1;--dark-text-muted: #80848e;--dark-text-link: #00a8fc;--dark-text-on-accent: #ffffff;--dark-border-color: #1e1f22;--dark-border-hover: #404249;--dark-accent-primary: #5865f2;--dark-accent-success: #23a55a;--dark-accent-warning: #f0b232;--dark-accent-danger: #f23f43;--dark-shadow: rgba(0, 0, 0, .3);--dark-shadow-hover: rgba(0, 0, 0, .4);--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 16px;--spacing-xl: 24px;--spacing-2xl: 32px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-circle: 50%;--sidebar-width: 260px;--sidebar-collapsed-width: 72px;--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .35s ease;--z-base: 1;--z-dropdown: 10;--z-modal: 100;--z-tooltip: 1000}:root,[data-theme=dark]{--bg-primary: var(--dark-bg-primary);--bg-secondary: var(--dark-bg-secondary);--bg-tertiary: var(--dark-bg-tertiary);--bg-sidebar: var(--dark-bg-sidebar);--bg-chat: var(--dark-bg-chat);--bg-message-sent: var(--dark-bg-message-sent);--bg-message-received: var(--dark-bg-message-received);--bg-message-system: var(--dark-bg-message-system);--bg-hover: var(--dark-bg-hover);--bg-active: var(--dark-bg-active);--bg-modal: var(--dark-bg-modal);--text-primary: var(--dark-text-primary);--text-secondary: var(--dark-text-secondary);--text-muted: var(--dark-text-muted);--text-link: var(--dark-text-link);--text-on-accent: var(--dark-text-on-accent);--border-color: var(--dark-border-color);--border-hover: var(--dark-border-hover);--accent-primary: var(--dark-accent-primary);--accent-success: var(--dark-accent-success);--accent-warning: var(--dark-accent-warning);--accent-danger: var(--dark-accent-danger);--shadow: var(--dark-shadow);--shadow-hover: var(--dark-shadow-hover)}[data-theme=light]{--bg-primary: var(--light-bg-primary);--bg-secondary: var(--light-bg-secondary);--bg-tertiary: var(--light-bg-tertiary);--bg-sidebar: var(--light-bg-sidebar);--bg-chat: var(--light-bg-chat);--bg-message-sent: var(--light-bg-message-sent);--bg-message-received: var(--light-bg-message-received);--bg-message-system: var(--light-bg-message-system);--bg-hover: var(--light-bg-hover);--bg-active: var(--light-bg-active);--bg-modal: var(--light-bg-modal);--text-primary: var(--light-text-primary);--text-secondary: var(--light-text-secondary);--text-muted: var(--light-text-muted);--text-link: var(--light-text-link);--text-on-accent: var(--light-text-on-accent);--border-color: var(--light-border-color);--border-hover: var(--light-border-hover);--accent-primary: var(--light-accent-primary);--accent-success: var(--light-accent-success);--accent-warning: var(--light-accent-warning);--accent-danger: var(--light-accent-danger);--shadow: var(--light-shadow);--shadow-hover: var(--light-shadow-hover)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Arial,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.5;height:100vh;height:100dvh;overflow:hidden;transition:background-color var(--transition-normal),color var(--transition-normal)}.container{display:flex;height:100vh;height:100dvh;width:100%;overflow:hidden}.sidebar{width:var(--sidebar-width);background-color:var(--bg-sidebar);display:flex;flex-direction:column;border-right:1px solid var(--border-color);transition:width var(--transition-normal)}.sidebar-header{padding:var(--spacing-lg);border-bottom:1px solid var(--border-color);display:flex;align-items:center;gap:var(--spacing-md);background-color:var(--bg-secondary);box-shadow:0 1px 0 var(--border-color)}.sidebar-header i{font-size:24px;color:var(--accent-primary)}.sidebar-header h1{font-size:16px;font-weight:700;color:var(--text-primary);letter-spacing:-.3px}.user-identity{padding:var(--spacing-lg);border-bottom:1px solid var(--border-color);display:flex;align-items:center;gap:var(--spacing-md);background-color:var(--bg-secondary);cursor:pointer;transition:background-color var(--transition-fast)}.user-identity:hover{background-color:var(--bg-hover)}.user-avatar{width:42px;height:42px;border-radius:var(--radius-circle);background:linear-gradient(135deg,var(--accent-primary) 0%,#7c3aed 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:var(--text-on-accent);text-transform:uppercase;flex-shrink:0}.user-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.user-name{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-uuid{font-size:11px;font-family:Monaco,Menlo,Courier New,monospace;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-edit-identity{padding:var(--spacing-xs);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;min-width:28px;height:28px}.btn-edit-identity:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-edit-identity i{font-size:18px}.peers-section{flex:1;display:flex;flex-direction:column;overflow:hidden}.peers-header{padding:var(--spacing-md) var(--spacing-lg);display:flex;align-items:center;gap:var(--spacing-sm);text-transform:uppercase;font-size:12px;font-weight:700;color:var(--text-muted);letter-spacing:.5px}.peers-header i{font-size:14px}.peer-count{margin-left:auto;background-color:var(--bg-tertiary);color:var(--text-secondary);padding:2px 8px;border-radius:12px;font-size:11px;font-weight:700}.peers-list{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 var(--spacing-sm)}.peers-list::-webkit-scrollbar{width:6px}.peers-list::-webkit-scrollbar-track{background:transparent}.peers-list::-webkit-scrollbar-thumb{background-color:var(--bg-tertiary);border-radius:3px}.peers-list::-webkit-scrollbar-thumb:hover{background-color:var(--bg-active)}.no-peers{padding:var(--spacing-xl);text-align:center;color:var(--text-muted);font-size:13px;font-style:italic}.peer-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);margin-bottom:var(--spacing-xs);border-radius:var(--radius-md);cursor:pointer;transition:background-color var(--transition-fast);position:relative}.peer-item:hover{background-color:var(--bg-hover)}.peer-item:active{background-color:var(--bg-active)}.peer-avatar{width:32px;height:32px;border-radius:var(--radius-circle);background:linear-gradient(135deg,var(--accent-success) 0%,#059669 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;color:var(--text-on-accent);text-transform:uppercase;flex-shrink:0;position:relative}.peer-status{position:absolute;bottom:-2px;right:-2px;width:12px;height:12px;border-radius:var(--radius-circle);background-color:var(--accent-success);border:3px solid var(--bg-sidebar);box-sizing:content-box}.peer-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.peer-name{font-size:14px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;gap:var(--spacing-xs)}.peer-name i{font-size:12px;color:var(--text-muted);opacity:0;transition:opacity var(--transition-fast)}.peer-item:hover .peer-name i{opacity:1}.peer-stats{display:flex;align-items:center;gap:var(--spacing-sm);font-size:11px;color:var(--text-muted)}.peer-uuid{font-family:Monaco,Menlo,Courier New,monospace}.latency-badge,.quality-badge{padding:2px 6px;border-radius:var(--radius-sm);font-weight:600;font-size:10px}.latency-excellent{background-color:#23a55a26;color:var(--accent-success)}.latency-good{background-color:#f0b23226;color:var(--accent-warning)}.latency-fair{background-color:#f9731626;color:#f97316}.latency-poor{background-color:#f23f4326;color:var(--accent-danger)}.quality-badge{background-color:#5865f226;color:var(--accent-primary)}.peer-tooltip{position:absolute;left:calc(100% + var(--spacing-sm));top:50%;transform:translateY(-50%);background-color:var(--bg-tertiary);color:var(--text-primary);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);font-size:12px;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity var(--transition-fast);z-index:var(--z-tooltip);box-shadow:0 4px 12px var(--shadow);border:1px solid var(--border-color)}.peer-item:hover .peer-tooltip{opacity:1}.tooltip-row{display:flex;justify-content:space-between;gap:var(--spacing-lg);margin:var(--spacing-xs) 0}.tooltip-label{color:var(--text-muted);font-weight:500}.tooltip-value{font-weight:600;color:var(--text-primary)}.connection-controls{padding:var(--spacing-lg);border-top:1px solid var(--border-color);background-color:var(--bg-secondary)}.btn-new-connection{width:100%;display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-md);background-color:var(--accent-success);color:var(--text-on-accent);border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all var(--transition-fast)}.btn-new-connection:hover{background-color:#1db85f;transform:translateY(-1px);box-shadow:0 4px 8px var(--shadow-hover)}.btn-new-connection:active{transform:translateY(0)}.btn-new-connection i{font-size:18px}.btn-clear-data{width:100%;display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-md);background-color:var(--accent-danger);color:var(--text-on-accent);border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all var(--transition-fast);margin-top:var(--spacing-md)}.btn-clear-data:hover{background-color:#dc2626;transform:translateY(-1px);box-shadow:0 4px 8px var(--shadow-hover)}.btn-clear-data:active{transform:translateY(0)}.btn-clear-data i{font-size:18px}.btn-install-app{width:100%;display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-md);background-color:var(--accent-primary);color:var(--text-on-accent);border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all var(--transition-fast);margin-bottom:var(--spacing-md)}.btn-install-app:hover:not(:disabled){background-color:#4752c4;transform:translateY(-1px);box-shadow:0 4px 8px var(--shadow-hover)}.btn-install-app:active:not(:disabled){transform:translateY(0)}.btn-install-app i{font-size:18px}.btn-install-app.installing{background-color:var(--bg-tertiary);color:var(--text-muted);cursor:wait;pointer-events:none}.btn-install-app.installing i{animation:spin 1s linear infinite}.btn-install-app.success{background-color:var(--accent-success);cursor:default;pointer-events:none}.btn-install-app.error{background-color:var(--accent-danger);cursor:pointer;animation:shake .4s ease-in-out}.btn-install-app.pulse{animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{box-shadow:0 0 #5865f266}50%{box-shadow:0 0 0 8px #5865f200}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}75%{transform:translate(4px)}}.main-content{flex:1;display:flex;flex-direction:column;background-color:var(--bg-chat);overflow:hidden}.top-bar{height:48px;display:flex;align-items:center;padding:0 var(--spacing-lg);border-bottom:1px solid var(--border-color);background-color:var(--bg-chat);box-shadow:0 1px 0 var(--border-color)}.top-bar-title{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.top-bar-title i{font-size:20px;color:var(--text-muted)}.top-bar-title h2{font-size:16px;font-weight:700;color:var(--text-primary)}.top-bar-actions{display:flex;align-items:center;gap:var(--spacing-sm)}.btn-theme-toggle{padding:var(--spacing-sm);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:32px;height:32px}.btn-theme-toggle:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-theme-toggle i{font-size:20px}.messages-container{flex:1;overflow-y:auto;overflow-x:hidden;padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-sm)}.messages-container::-webkit-scrollbar{width:8px}.messages-container::-webkit-scrollbar-track{background:transparent}.messages-container::-webkit-scrollbar-thumb{background-color:var(--bg-tertiary);border-radius:4px}.messages-container::-webkit-scrollbar-thumb:hover{background-color:var(--bg-active)}.message-group{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-md)}.message-avatar{width:40px;height:40px;border-radius:var(--radius-circle);background:linear-gradient(135deg,var(--accent-primary) 0%,#7c3aed 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;color:var(--text-on-accent);text-transform:uppercase;flex-shrink:0}.message-avatar.peer-avatar-msg{background:linear-gradient(135deg,var(--accent-success) 0%,#059669 100%)}.message-content{flex:1;min-width:0}.message-header{display:flex;align-items:baseline;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.message-author{font-weight:600;font-size:15px;color:var(--text-primary)}.message-timestamp{font-size:11px;color:var(--text-muted);font-weight:500}.message-text{font-size:15px;line-height:1.5;color:var(--text-primary);word-wrap:break-word;overflow-wrap:break-word}.message{padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);font-size:14px;line-height:1.5;margin-bottom:var(--spacing-sm)}.message.sent{background-color:#5865f21f;color:var(--text-primary);border-left:3px solid var(--accent-primary)}.message.peer{background-color:#23a55a1f;color:var(--text-primary);border-left:3px solid var(--accent-success)}.message.system{background-color:#f0b2321f;color:var(--text-secondary);font-style:italic;font-size:13px;text-align:center;border:none;margin:var(--spacing-md) var(--spacing-2xl)}.message-input-container{padding:var(--spacing-lg);padding-bottom:calc(var(--spacing-lg) + env(safe-area-inset-bottom));border-top:1px solid var(--border-color);background-color:var(--bg-chat)}.message-input-wrapper{display:flex;align-items:flex-end;gap:var(--spacing-md);background-color:var(--bg-secondary);border-radius:var(--radius-md);padding:var(--spacing-sm);border:1px solid var(--border-color);transition:border-color var(--transition-fast)}.message-input-wrapper:focus-within{border-color:var(--accent-primary)}.message-input{flex:1;background:transparent;border:none;outline:none;color:var(--text-primary);font-size:15px;padding:var(--spacing-sm);resize:none;max-height:144px;font-family:inherit;line-height:1.5}.message-input::placeholder{color:var(--text-muted)}.btn-send{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--accent-primary);color:var(--text-on-accent);border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:var(--spacing-xs)}.btn-send:hover:not(:disabled){background-color:#4752c4}.btn-send:active:not(:disabled){transform:scale(.98)}.btn-send:disabled{background-color:var(--bg-tertiary);color:var(--text-muted);cursor:not-allowed}.btn-send i{font-size:18px}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--bg-modal);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal{background-color:var(--bg-primary);border-radius:var(--radius-lg);box-shadow:0 8px 24px var(--shadow-hover);width:90%;max-width:600px;max-height:90vh;overflow-y:auto;border:1px solid var(--border-color)}.modal-header{padding:var(--spacing-xl);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between;background-color:var(--bg-secondary)}.modal-title{display:flex;align-items:center;gap:var(--spacing-md);font-size:20px;font-weight:700;color:var(--text-primary)}.modal-title i{font-size:24px;color:var(--accent-primary)}.btn-close-modal{padding:var(--spacing-sm);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:32px;height:32px}.btn-close-modal:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-close-modal i{font-size:20px}.modal-body{padding:var(--spacing-xl)}.modal-section{margin-bottom:var(--spacing-xl)}.modal-section:last-child{margin-bottom:0}.modal-section h3{font-size:14px;font-weight:700;color:var(--text-primary);margin-bottom:var(--spacing-md);text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted)}.button-group{display:flex;gap:var(--spacing-md);flex-wrap:wrap}.btn-primary,.btn-secondary{flex:1;min-width:140px;padding:var(--spacing-md) var(--spacing-xl);border:none;border-radius:var(--radius-md);font-weight:600;font-size:14px;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm)}.btn-primary{background-color:var(--accent-primary);color:var(--text-on-accent)}.btn-primary:hover:not(:disabled){background-color:#4752c4;transform:translateY(-1px);box-shadow:0 4px 8px var(--shadow-hover)}.btn-secondary{background-color:var(--bg-tertiary);color:var(--text-primary)}.btn-secondary:hover:not(:disabled){background-color:var(--bg-hover)}.btn-primary:disabled,.btn-secondary:disabled{background-color:var(--bg-tertiary);color:var(--text-muted);cursor:not-allowed;transform:none;box-shadow:none}.btn-primary i,.btn-secondary i{font-size:18px}.code-container{position:relative;min-height:120px;margin-bottom:var(--spacing-md)}textarea{width:100%;min-height:120px;max-height:300px;background-color:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-primary);border-radius:var(--radius-md);padding:var(--spacing-md);font-family:Monaco,Menlo,Courier New,monospace;font-size:13px;resize:vertical;transition:border-color var(--transition-fast);line-height:1.5}textarea:focus{outline:none;border-color:var(--accent-primary)}textarea::placeholder{color:var(--text-muted)}textarea[readonly]{cursor:default}.loader{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);gap:var(--spacing-lg)}.spinner{width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:var(--radius-circle);animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loader p{margin:0;color:var(--text-muted);font-size:14px;font-weight:500}.hidden{display:none!important}.sidebar-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:9;opacity:0;transition:opacity var(--transition-normal);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.sidebar-overlay.active{display:block;opacity:1}.btn-close-sidebar{padding:var(--spacing-sm);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:none;align-items:center;justify-content:center;width:32px;height:32px;margin-left:auto}.btn-close-sidebar:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-close-sidebar i{font-size:20px}@media (max-width: 1024px){:root{--sidebar-width: 220px}.sidebar-header h1{font-size:14px}.user-avatar{width:36px;height:36px;font-size:16px}.peer-avatar{width:28px;height:28px;font-size:12px}}@media (max-width: 768px){.container{flex-direction:column}.sidebar{position:fixed;top:0;left:0;bottom:0;z-index:10;transform:translate(-100%);transition:transform var(--transition-normal);width:85%;max-width:320px;box-shadow:4px 0 12px var(--shadow)}.sidebar.mobile-open{transform:translate(0)}.sidebar.mobile-open .btn-close-sidebar{display:flex}body.sidebar-open{overflow:hidden}.main-content{width:100%}.top-bar{justify-content:space-between}.btn-mobile-menu{display:flex;padding:var(--spacing-sm);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);width:32px;height:32px;align-items:center;justify-content:center}.btn-mobile-menu:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-mobile-menu i{font-size:20px}.modal{width:95%;max-height:95vh}.modal-header,.modal-body{padding:var(--spacing-lg)}.message-avatar{width:32px;height:32px;font-size:14px}.peer-tooltip{display:none}}@media (min-width: 1440px){:root{--sidebar-width: 280px}.messages-container,.message-input-container{padding:var(--spacing-xl) var(--spacing-2xl)}}.message-input-wrapper{position:relative;display:grid}.btn-preview-toggle{padding:var(--spacing-sm);background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;min-width:32px;height:32px}.btn-preview-toggle:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-preview-toggle[aria-pressed=true]{color:var(--accent-primary)}.btn-preview-toggle i{font-size:18px}.message-input,.message-preview{grid-area:1 / 1;font-family:inherit;font-size:15px;font-weight:400;line-height:1.5;letter-spacing:0;padding:.5333em;border:1px solid transparent;box-sizing:border-box;width:100%;min-height:2.8em;max-height:9.6em;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;text-align:left;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}.message-input{background:transparent;color:transparent;caret-color:var(--text-primary);resize:none;overflow-y:auto;overflow-x:hidden;z-index:2}.message-preview{pointer-events:none;overflow:hidden;z-index:1;color:var(--text-primary);opacity:0;transition:opacity var(--transition-fast);will-change:transform}.message-preview.active{opacity:1}.message-input.preview-active{color:transparent;caret-color:var(--text-primary)}[data-theme=dark]{--text-primary-rgb: 242, 243, 245}[data-theme=light]{--text-primary-rgb: 17, 24, 39}.message-input-wrapper.mode-preview .message-preview{position:static;margin-top:var(--spacing-sm);padding:var(--spacing-md);background:var(--bg-tertiary);border-radius:var(--radius-md);pointer-events:auto;opacity:1;border:1px solid var(--border-color)}.message-input-wrapper.mode-preview .message-input{color:var(--text-primary)}@media (max-width: 768px){.message-input-wrapper.mobile-layout .message-preview{position:static;margin-top:var(--spacing-sm);padding:var(--spacing-md);background:var(--bg-tertiary);border-radius:var(--radius-md);pointer-events:auto;border:1px solid var(--border-color)}.message-input-wrapper.mobile-layout .message-input.preview-active{color:var(--text-primary)}}.btn-toggle-raw{padding:2px 6px;background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:inline-flex;align-items:center;justify-content:center;margin-left:var(--spacing-sm);font-size:12px}.btn-toggle-raw:hover{background-color:var(--bg-hover);color:var(--text-primary)}.btn-toggle-raw i{font-size:14px}.markdown-rendered{line-height:1.6}.markdown-rendered>*:first-child{margin-top:0}.markdown-rendered>*:last-child{margin-bottom:0}.markdown-rendered h1,.markdown-rendered h2,.markdown-rendered h3,.markdown-rendered h4,.markdown-rendered h5,.markdown-rendered h6{margin-top:var(--spacing-lg);margin-bottom:var(--spacing-md);font-weight:700;line-height:1.3;color:var(--text-primary)}.markdown-rendered h1{font-size:1.8em;border-bottom:2px solid var(--border-color);padding-bottom:var(--spacing-sm)}.markdown-rendered h2{font-size:1.5em;border-bottom:1px solid var(--border-color);padding-bottom:var(--spacing-xs)}.markdown-rendered h3{font-size:1.3em}.markdown-rendered h4{font-size:1.1em}.markdown-rendered h5,.markdown-rendered h6{font-size:1em;color:var(--text-secondary)}.markdown-rendered p{margin-top:0;margin-bottom:var(--spacing-md)}.markdown-rendered strong,.markdown-rendered b{font-weight:700;color:var(--text-primary)}.markdown-rendered em,.markdown-rendered i{font-style:italic}.markdown-rendered del,.markdown-rendered s{text-decoration:line-through;opacity:.7}.markdown-rendered code{background-color:var(--bg-tertiary);padding:2px 6px;border-radius:var(--radius-sm);font-family:Monaco,Menlo,Courier New,monospace;font-size:.9em;color:var(--text-primary);border:1px solid var(--border-color)}.markdown-rendered pre{background-color:var(--bg-tertiary);padding:var(--spacing-md);border-radius:var(--radius-md);overflow-x:auto;margin:var(--spacing-md) 0;border:1px solid var(--border-color)}.markdown-rendered pre code{background:none;padding:0;border:none;display:block}.markdown-rendered a{color:var(--text-link);text-decoration:none;border-bottom:1px solid transparent;transition:border-color var(--transition-fast)}.markdown-rendered a:hover{border-bottom-color:var(--text-link)}.markdown-rendered ul,.markdown-rendered ol{margin:var(--spacing-md) 0;padding-left:var(--spacing-xl)}.markdown-rendered ul{list-style-type:disc}.markdown-rendered ol{list-style-type:decimal}.markdown-rendered li{margin-bottom:var(--spacing-xs)}.markdown-rendered li>p{margin-bottom:var(--spacing-xs)}.markdown-rendered blockquote{margin:var(--spacing-md) 0;padding:var(--spacing-sm) var(--spacing-lg);border-left:4px solid var(--accent-primary);background-color:var(--bg-tertiary);border-radius:var(--radius-sm);color:var(--text-secondary)}.markdown-rendered blockquote p{margin:0}.markdown-rendered hr{border:none;border-top:2px solid var(--border-color);margin:var(--spacing-xl) 0}.markdown-rendered table{border-collapse:collapse;width:100%;margin:var(--spacing-md) 0;overflow-x:auto;display:block}.markdown-rendered table th,.markdown-rendered table td{padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);text-align:left}.markdown-rendered table th{background-color:var(--bg-tertiary);font-weight:700;color:var(--text-primary)}.markdown-rendered table tr:nth-child(2n){background-color:var(--bg-secondary)}.markdown-rendered img{max-width:100%;height:auto;border-radius:var(--radius-md);margin:var(--spacing-md) 0}.styled-markdown .md-line{display:block}.styled-markdown .md-line-break{display:block;height:1.5em}.styled-markdown .md-syntax{color:var(--text-muted);opacity:.5}.styled-markdown .md-h1{display:block;font-size:1.8em;font-weight:700;line-height:1.3;margin:var(--spacing-md) 0;border-bottom:2px solid var(--border-color);padding-bottom:var(--spacing-sm)}.styled-markdown .md-h2{display:block;font-size:1.5em;font-weight:700;line-height:1.3;margin:var(--spacing-md) 0;border-bottom:1px solid var(--border-color);padding-bottom:var(--spacing-xs)}.styled-markdown .md-h3{display:block;font-size:1.3em;font-weight:700;line-height:1.3;margin:var(--spacing-md) 0}.styled-markdown .md-h4,.styled-markdown .md-h5,.styled-markdown .md-h6{display:block;font-size:1.1em;font-weight:700;line-height:1.3;margin:var(--spacing-sm) 0}.message-input-wrapper .message-preview .md-h1,.message-input-wrapper .message-preview .md-h2,.message-input-wrapper .message-preview .md-h3,.message-input-wrapper .message-preview .md-h4,.message-input-wrapper .message-preview .md-h5,.message-input-wrapper .message-preview .md-h6{display:inline;font-size:1em;margin:0;border:none;padding:0}.message-input-wrapper .message-preview .md-h1-text,.message-input-wrapper .message-preview .md-h2-text,.message-input-wrapper .message-preview .md-h3-text{font-weight:700}.message-input-wrapper .message-preview .md-list,.message-input-wrapper .message-preview .md-blockquote,.message-input-wrapper .message-preview .md-codeblock{display:inline;margin:0;padding:0;border:none;background:none}.message-input-wrapper .message-preview .md-code{background-color:rgba(var(--bg-tertiary-rgb, 30, 31, 34),.3);padding:1px 3px}.message-input-wrapper .message-preview .md-code-text{font-family:inherit;font-size:1em}.styled-markdown .md-bold-text{font-weight:700}.styled-markdown .md-italic-text{font-style:italic}.styled-markdown .md-strikethrough-text{text-decoration:line-through}.styled-markdown .md-code{background-color:rgba(var(--bg-tertiary-rgb, 30, 31, 34),.5);border-radius:var(--radius-sm);padding:2px 4px}.styled-markdown .md-code-text{font-family:Monaco,Menlo,Courier New,monospace;font-size:.9em}.styled-markdown .md-link-text{color:var(--text-link);text-decoration:underline}.styled-markdown .md-link-url{color:var(--text-muted);font-size:.9em}.styled-markdown .md-list{display:block;margin-left:var(--spacing-md)}.styled-markdown .md-blockquote{display:block;padding-left:var(--spacing-md);border-left:4px solid var(--accent-primary);margin:var(--spacing-sm) 0;color:var(--text-secondary);font-style:italic}.styled-markdown .md-codeblock{display:block;background-color:var(--bg-tertiary);padding:var(--spacing-sm);border-radius:var(--radius-sm);margin:var(--spacing-sm) 0}[data-theme=dark]{--bg-tertiary-rgb: 30, 31, 34}[data-theme=light]{--bg-tertiary-rgb: 243, 244, 246}.message-text.showing-raw{white-space:pre-wrap;word-break:break-word}@media (prefers-reduced-motion: reduce){.message-preview,.btn-preview-toggle,.btn-toggle-raw{transition:none}}
